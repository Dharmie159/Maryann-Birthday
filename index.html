<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday ‚ú®</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300;1,400&family=Dancing+Script:wght@500;700&display=swap" rel="stylesheet">
<style>
  :root {
    --gold: #c9a84c;
    --gold-light: #e8c97a;
    --gold-dark: #8a6820;
    --cream: #fdf6e3;
    --deep: #1a1008;
    --warm: #2d1f0a;
    --rose: #c4788a;
    --frame-bg: #f5ead0;
  }

- { margin: 0; padding: 0; box-sizing: border-box; }

body {
background-color: var(‚Äìdeep);
color: var(‚Äìcream);
font-family: ‚ÄòCormorant Garamond‚Äô, serif;
overflow-x: hidden;
}

/* ‚îÄ‚îÄ NOISE TEXTURE OVERLAY ‚îÄ‚îÄ */
body::before {
content: ‚Äò‚Äô;
position: fixed;
inset: 0;
background-image: url(‚Äúdata:image/svg+xml,%3Csvg viewBox=‚Äò0 0 256 256‚Äô xmlns=‚Äòhttp://www.w3.org/2000/svg‚Äô%3E%3Cfilter id=‚Äònoise‚Äô%3E%3CfeTurbulence type=‚ÄòfractalNoise‚Äô baseFrequency=‚Äò0.9‚Äô numOctaves=‚Äò4‚Äô stitchTiles=‚Äòstitch‚Äô/%3E%3C/filter%3E%3Crect width=‚Äò100%25‚Äô height=‚Äò100%25‚Äô filter=‚Äòurl(%23noise)‚Äô opacity=‚Äò0.04‚Äô/%3E%3C/svg%3E‚Äù);
pointer-events: none;
z-index: 9999;
opacity: 0.4;
}

/* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
.hero {
min-height: 100vh;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
position: relative;
text-align: center;
padding: 60px 20px 80px;
background: radial-gradient(ellipse at 50% 30%, #3d2505 0%, var(‚Äìdeep) 70%);
overflow: hidden;
}

.hero::after {
content: ‚Äò‚Äô;
position: absolute;
inset: 0;
background:
radial-gradient(circle at 20% 80%, rgba(201,168,76,0.08) 0%, transparent 50%),
radial-gradient(circle at 80% 20%, rgba(196,120,138,0.07) 0%, transparent 50%);
pointer-events: none;
}

.sparkles {
position: absolute;
inset: 0;
overflow: hidden;
pointer-events: none;
}

.sparkle {
position: absolute;
width: 3px;
height: 3px;
border-radius: 50%;
background: var(‚Äìgold-light);
animation: twinkle var(‚Äìdur, 3s) var(‚Äìdelay, 0s) infinite ease-in-out;
}

@keyframes twinkle {
0%, 100% { opacity: 0; transform: scale(0.5); }
50% { opacity: 1; transform: scale(1.5); }
}

.hero-eyebrow {
font-family: ‚ÄòDancing Script‚Äô, cursive;
font-size: clamp(1.1rem, 3vw, 1.6rem);
color: var(‚Äìgold);
letter-spacing: 0.05em;
animation: fadeUp 1s 0.2s both;
}

.hero-title {
font-family: ‚ÄòPlayfair Display‚Äô, serif;
font-size: clamp(3rem, 10vw, 8rem);
font-weight: 700;
line-height: 1;
margin: 10px 0 4px;
background: linear-gradient(135deg, var(‚Äìgold-light) 0%, var(‚Äìgold) 40%, var(‚Äìgold-dark) 80%);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
animation: fadeUp 1s 0.4s both;
}

.hero-name {
font-family: ‚ÄòPlayfair Display‚Äô, serif;
font-style: italic;
font-size: clamp(2rem, 7vw, 5.5rem);
font-weight: 400;
color: var(‚Äìcream);
margin-bottom: 30px;
animation: fadeUp 1s 0.6s both;
}

.divider {
display: flex;
align-items: center;
gap: 16px;
margin: 20px auto;
width: min(400px, 80%);
animation: fadeUp 1s 0.8s both;
}

.divider-line {
flex: 1;
height: 1px;
background: linear-gradient(to right, transparent, var(‚Äìgold));
}
.divider-line:last-child {
background: linear-gradient(to left, transparent, var(‚Äìgold));
}

.divider-diamond {
width: 8px;
height: 8px;
background: var(‚Äìgold);
transform: rotate(45deg);
}

.hero-message {
font-size: clamp(1rem, 2.5vw, 1.3rem);
font-style: italic;
color: rgba(253,246,227,0.75);
max-width: 520px;
line-height: 1.8;
animation: fadeUp 1s 1s both;
}

.scroll-hint {
position: absolute;
bottom: 36px;
left: 50%;
transform: translateX(-50%);
display: flex;
flex-direction: column;
align-items: center;
gap: 8px;
color: rgba(201,168,76,0.6);
font-size: 0.75rem;
letter-spacing: 0.15em;
text-transform: uppercase;
animation: fadeIn 1.5s 1.5s both;
}

.scroll-arrow {
width: 20px;
height: 20px;
border-right: 1.5px solid var(‚Äìgold);
border-bottom: 1.5px solid var(‚Äìgold);
transform: rotate(45deg);
animation: bounce 1.5s infinite;
}

@keyframes bounce {
0%, 100% { transform: rotate(45deg) translateY(0); }
50% { transform: rotate(45deg) translateY(5px); }
}

/* ‚îÄ‚îÄ SECTION TITLES ‚îÄ‚îÄ */
.section-header {
text-align: center;
padding: 80px 20px 50px;
}

.section-tag {
font-family: ‚ÄòDancing Script‚Äô, cursive;
font-size: 1.2rem;
color: var(‚Äìrose);
display: block;
margin-bottom: 8px;
}

.section-title {
font-family: ‚ÄòPlayfair Display‚Äô, serif;
font-size: clamp(2rem, 5vw, 3.5rem);
color: var(‚Äìgold-light);
font-weight: 400;
font-style: italic;
}

.section-divider {
width: 80px;
height: 1px;
background: var(‚Äìgold);
margin: 20px auto 0;
opacity: 0.5;
}

/* ‚îÄ‚îÄ GALLERY ‚îÄ‚îÄ */
.gallery-section {
background: var(‚Äìwarm);
padding-bottom: 100px;
position: relative;
}

.gallery-section::before {
content: ‚Äò‚Äô;
position: absolute;
top: 0; left: 0; right: 0;
height: 1px;
background: linear-gradient(to right, transparent, var(‚Äìgold), transparent);
}

.gallery-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
gap: 32px;
max-width: 1300px;
margin: 0 auto;
padding: 0 32px;
}

/* Each frame card */
.frame-card {
position: relative;
cursor: pointer;
animation: fadeIn 0.6s both;
transition: transform 0.4s cubic-bezier(0.25,0.46,0.45,0.94);
}

.frame-card:hover {
transform: translateY(-8px) scale(1.02);
}

/* Varied sizes for visual interest */
.frame-card:nth-child(3n+2) { margin-top: 40px; }
.frame-card:nth-child(5n+1) { margin-top: -20px; }

.frame-inner {
background: var(‚Äìframe-bg);
padding: 14px 14px 50px;
position: relative;
box-shadow:
0 0 0 1px rgba(201,168,76,0.3),
0 4px 6px rgba(0,0,0,0.3),
0 12px 30px rgba(0,0,0,0.4),
inset 0 0 0 1px rgba(255,255,255,0.1);
}

/* Ornate corner decorations */
.frame-inner::before,
.frame-inner::after {
content: ‚Äò‚Äô;
position: absolute;
width: 20px;
height: 20px;
border-color: var(‚Äìgold);
border-style: solid;
opacity: 0.7;
}
.frame-inner::before {
top: 5px; left: 5px;
border-width: 2px 0 0 2px;
}
.frame-inner::after {
bottom: 30px; right: 5px;
border-width: 0 2px 2px 0;
}

.corner-tr,
.corner-bl {
position: absolute;
width: 20px;
height: 20px;
border-color: var(‚Äìgold);
border-style: solid;
opacity: 0.7;
}
.corner-tr { top: 5px; right: 5px; border-width: 2px 2px 0 0; }
.corner-bl { bottom: 30px; left: 5px; border-width: 0 0 2px 2px; }

.photo-wrapper {
width: 100%;
aspect-ratio: 1 / 1;
overflow: hidden;
position: relative;
background: #2d200a;
}

.photo-wrapper img {
width: 100%;
height: 100%;
object-fit: cover;
display: block;
transition: transform 0.5s ease;
filter: sepia(10%) contrast(1.05);
}

.frame-card:hover .photo-wrapper img {
transform: scale(1.05);
}

/* Placeholder for missing photos */
.photo-placeholder {
width: 100%;
height: 100%;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
background: linear-gradient(135deg, #2d1f0a, #1a1208);
color: rgba(201,168,76,0.4);
gap: 10px;
font-family: ‚ÄòCormorant Garamond‚Äô, serif;
font-size: 0.85rem;
letter-spacing: 0.1em;
font-style: italic;
}

.photo-placeholder svg {
opacity: 0.3;
}

.frame-caption {
text-align: center;
padding: 12px 8px 0;
font-family: ‚ÄòDancing Script‚Äô, cursive;
font-size: 1.05rem;
color: var(‚Äìgold-dark);
line-height: 1.4;
}

/* Horizontal frames */
.frame-card.wide .photo-wrapper {
aspect-ratio: 4 / 3;
}

/* Tall frames */
.frame-card.tall .photo-wrapper {
aspect-ratio: 3 / 4;
}

/* ‚îÄ‚îÄ FEATURED / POLAROID SECTION ‚îÄ‚îÄ */
.featured-section {
background: var(‚Äìdeep);
padding: 0 0 80px;
position: relative;
}

/* ‚îÄ‚îÄ HERO PORTRAIT FRAME ‚îÄ‚îÄ */
.hero-portrait-wrap {
margin: 50px auto 10px;
display: flex;
flex-direction: column;
align-items: center;
gap: 20px;
animation: fadeUp 1s 1.1s both;
position: relative;
z-index: 2;
width: 100%;
}

.hero-portrait-frame {
position: relative;
width: clamp(300px, 65vw, 560px);
cursor: pointer;
/* Drop shadow on the whole frame */
filter: drop-shadow(0 12px 40px rgba(0,0,0,0.7)) drop-shadow(0 4px 12px rgba(0,0,0,0.5));
}

/* The photo sits behind the frame image */
.hero-portrait-inner {
width: 100%;
aspect-ratio: 3 / 4;
overflow: hidden;
position: relative;
background: #1a1208;
/* Inset so the frame PNG overlaps the edges naturally.
Adjust these values if your frame PNG has thicker or thinner borders. */
margin: 8% 8%;
width: calc(100% - 16%);
}

/* The PNG frame overlays on top of the photo ‚Äî perfectly centered */
.hero-portrait-frame-img {
position: absolute;
inset: 0;
width: 100%;
height: 100%;
object-fit: fill;
pointer-events: none;
z-index: 3;
/* Shown only when hero-frame.png exists ‚Äî falls back gracefully */
}

/* Fallback CSS frame shown when no PNG is provided */
.hero-portrait-frame-css {
position: absolute;
inset: 0;
z-index: 3;
pointer-events: none;
border: 3px solid rgba(201,168,76,0.5);
box-shadow:
inset 0 0 0 1px rgba(201,168,76,0.2),
inset 8px 8px 0 rgba(201,168,76,0.08),
inset -8px -8px 0 rgba(201,168,76,0.08);
}
/* Corner ornaments on the fallback frame */
.hero-portrait-frame-css::before,
.hero-portrait-frame-css::after {
content: ‚Äò‚Äô;
position: absolute;
width: 36px; height: 36px;
border-color: var(‚Äìgold);
border-style: solid;
opacity: 0.9;
}
.hero-portrait-frame-css::before { top: 6px; left: 6px; border-width: 2px 0 0 2px; }
.hero-portrait-frame-css::after  { bottom: 6px; right: 6px; border-width: 0 2px 2px 0; }

.hero-portrait-placeholder {
width: 100%;
height: 100%;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
gap: 14px;
color: rgba(201,168,76,0.45);
font-family: ‚ÄòCormorant Garamond‚Äô, serif;
font-style: italic;
transition: opacity 0.3s;
text-align: center;
padding: 30px;
position: absolute;
inset: 0;
}

.hero-portrait-placeholder span { font-size: 1.15rem; }
.hero-portrait-placeholder small { font-size: 0.8rem; opacity: 0.55; }
.hero-portrait-placeholder svg { opacity: 0.3; width: 64px; height: 64px; }

.hero-portrait-frame:hover .hero-portrait-placeholder { opacity: 0.75; }

@media (max-width: 600px) {
.hero-portrait-frame { width: clamp(260px, 88vw, 380px); }
}

/* ‚îÄ‚îÄ POLAROID STRIP ‚îÄ‚îÄ */
.polaroid-strip {
display: flex;
gap: 20px;
overflow-x: auto;
padding: 40px 60px;
scrollbar-width: none;
-webkit-overflow-scrolling: touch;
}
.polaroid-strip::-webkit-scrollbar { display: none; }

.polaroid {
flex: 0 0 220px;
background: #fff;
padding: 12px 12px 48px;
box-shadow: 0 8px 32px rgba(0,0,0,0.5), 0 2px 8px rgba(0,0,0,0.3);
transform: rotate(var(‚Äìrot, -2deg));
transition: transform 0.3s ease, box-shadow 0.3s ease;
cursor: pointer;
position: relative;
}

.polaroid:hover {
transform: rotate(0deg) scale(1.05);
box-shadow: 0 16px 48px rgba(0,0,0,0.6);
z-index: 10;
}

.polaroid-photo {
width: 100%;
aspect-ratio: 1;
background: #e8dcc8;
overflow: hidden;
position: relative;
}

.polaroid-photo img {
width: 100%;
height: 100%;
object-fit: cover;
filter: sepia(15%);
}

.polaroid-photo-placeholder {
width: 100%;
height: 100%;
display: flex;
align-items: center;
justify-content: center;
background: linear-gradient(135deg, #e8dcc8, #d4c4a0);
color: rgba(140,100,30,0.5);
font-size: 0.7rem;
font-family: ‚ÄòCormorant Garamond‚Äô, serif;
font-style: italic;
flex-direction: column;
gap: 6px;
text-align: center;
padding: 8px;
}

.polaroid-label {
position: absolute;
bottom: 0; left: 0; right: 0;
text-align: center;
font-family: ‚ÄòDancing Script‚Äô, cursive;
font-size: 1rem;
color: #555;
padding: 6px 4px 12px;
}

/* ‚îÄ‚îÄ BIRTHDAY MESSAGE ‚îÄ‚îÄ */
.message-section {
background: radial-gradient(ellipse at center, #2d1f0a 0%, var(‚Äìdeep) 80%);
padding: 100px 20px;
text-align: center;
position: relative;
overflow: hidden;
}

.message-section::before {
content: ‚Äò‚ú¶ ‚ú¶ ‚ú¶‚Äô;
position: absolute;
top: 40px;
left: 50%;
transform: translateX(-50%);
color: rgba(201,168,76,0.3);
font-size: 1.2rem;
letter-spacing: 1em;
}

.big-message {
font-family: ‚ÄòPlayfair Display‚Äô, serif;
font-size: clamp(1.4rem, 4vw, 2.8rem);
font-style: italic;
line-height: 1.6;
max-width: 700px;
margin: 0 auto;
color: var(‚Äìcream);
}

.big-message span {
color: var(‚Äìgold-light);
}

.signature {
font-family: ‚ÄòDancing Script‚Äô, cursive;
font-size: 2rem;
color: var(‚Äìrose);
margin-top: 50px;
display: block;
}

/* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
footer {
background: #0e0805;
text-align: center;
padding: 40px 20px;
border-top: 1px solid rgba(201,168,76,0.15);
font-size: 0.85rem;
color: rgba(253,246,227,0.3);
font-style: italic;
font-family: ‚ÄòCormorant Garamond‚Äô, serif;
}

/* ‚îÄ‚îÄ LIGHTBOX ‚îÄ‚îÄ */
.lightbox {
display: none;
position: fixed;
inset: 0;
background: rgba(0,0,0,0.92);
z-index: 1000;
align-items: center;
justify-content: center;
padding: 20px;
backdrop-filter: blur(4px);
}

.lightbox.open {
display: flex;
}

.lightbox-content {
position: relative;
max-width: min(700px, 90vw);
max-height: 90vh;
animation: zoomIn 0.3s ease;
}

.lightbox-content img {
max-width: 100%;
max-height: 80vh;
object-fit: contain;
border: 8px solid var(‚Äìframe-bg);
box-shadow: 0 0 0 1px var(‚Äìgold), 0 20px 60px rgba(0,0,0,0.8);
}

.lightbox-close {
position: absolute;
top: -16px;
right: -16px;
background: var(‚Äìgold);
color: var(‚Äìdeep);
border: none;
width: 36px;
height: 36px;
border-radius: 50%;
font-size: 1.2rem;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
font-family: sans-serif;
font-weight: bold;
}

@keyframes fadeUp {
from { opacity: 0; transform: translateY(30px); }
to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeIn {
from { opacity: 0; }
to { opacity: 1; }
}
@keyframes zoomIn {
from { opacity: 0; transform: scale(0.85); }
to { opacity: 1; transform: scale(1); }
}

/* ‚îÄ‚îÄ UPLOAD HINT BUTTON ‚îÄ‚îÄ */
.add-photo-btn {
display: block;
margin: 40px auto 0;
padding: 14px 40px;
background: transparent;
border: 1px solid var(‚Äìgold);
color: var(‚Äìgold);
font-family: ‚ÄòCormorant Garamond‚Äô, serif;
font-size: 1rem;
font-style: italic;
letter-spacing: 0.1em;
cursor: pointer;
transition: all 0.3s ease;
position: relative;
overflow: hidden;
}

.add-photo-btn::before {
content: ‚Äò‚Äô;
position: absolute;
inset: 0;
background: var(‚Äìgold);
transform: translateX(-100%);
transition: transform 0.3s ease;
z-index: -1;
}

.add-photo-btn:hover {
color: var(‚Äìdeep);
}

.add-photo-btn:hover::before {
transform: translateX(0);
}

#file-input { display: none; }

@media (max-width: 600px) {
.gallery-grid {
grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
gap: 20px;
padding: 0 16px;
}
.frame-card:nth-child(3n+2),
.frame-card:nth-child(5n+1) { margin-top: 0; }
.polaroid-strip { padding: 30px 24px; }
}

/* ‚îÄ‚îÄ MUSIC PLAYER ‚îÄ‚îÄ */
.music-player {
position: fixed;
bottom: 28px;
right: 28px;
z-index: 500;
display: flex;
flex-direction: column;
align-items: flex-end;
gap: 12px;
}

.music-fab {
width: 56px;
height: 56px;
border-radius: 50%;
background: linear-gradient(135deg, var(‚Äìgold-dark), var(‚Äìgold));
border: none;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
box-shadow: 0 4px 20px rgba(0,0,0,0.5), 0 0 0 0 rgba(201,168,76,0.4);
transition: transform 0.2s ease, box-shadow 0.2s ease;
position: relative;
z-index: 2;
flex-shrink: 0;
}

.music-fab:hover {
transform: scale(1.08);
box-shadow: 0 6px 28px rgba(0,0,0,0.6), 0 0 0 6px rgba(201,168,76,0.15);
}

.music-fab.playing {
animation: pulse-ring 2s infinite;
}

@keyframes pulse-ring {
0% { box-shadow: 0 4px 20px rgba(0,0,0,0.5), 0 0 0 0 rgba(201,168,76,0.4); }
70% { box-shadow: 0 4px 20px rgba(0,0,0,0.5), 0 0 0 14px rgba(201,168,76,0); }
100% { box-shadow: 0 4px 20px rgba(0,0,0,0.5), 0 0 0 0 rgba(201,168,76,0); }
}

.music-fab svg {
width: 22px;
height: 22px;
fill: var(‚Äìdeep);
transition: opacity 0.2s;
}

/* Vinyl disc spinning behind fab when playing */
.vinyl {
position: absolute;
width: 56px;
height: 56px;
border-radius: 50%;
background: conic-gradient(#1a1008 0deg, #2d1f0a 60deg, #1a1008 120deg, #2d1f0a 180deg, #1a1008 240deg, #2d1f0a 300deg, #1a1008 360deg);
border: 2px solid var(‚Äìgold-dark);
z-index: 1;
opacity: 0;
transition: opacity 0.3s, transform 0.3s;
}

.music-fab.playing ~ .vinyl,
.vinyl.spinning {
opacity: 1;
animation: spin 4s linear infinite;
transform: translateX(0);
}

@keyframes spin {
from { transform: rotate(0deg); }
to { transform: rotate(360deg); }
}

/* Expanded player card */
.music-card {
background: rgba(26,16,8,0.95);
border: 1px solid rgba(201,168,76,0.3);
border-radius: 16px;
padding: 20px;
width: 290px;
box-shadow: 0 8px 40px rgba(0,0,0,0.6);
backdrop-filter: blur(12px);
transform: scale(0.9) translateY(10px);
transform-origin: bottom right;
opacity: 0;
pointer-events: none;
transition: all 0.3s cubic-bezier(0.34,1.56,0.64,1);
}

.music-card.open {
transform: scale(1) translateY(0);
opacity: 1;
pointer-events: all;
}

.player-top {
display: flex;
align-items: center;
gap: 14px;
margin-bottom: 16px;
}

.album-art {
width: 52px;
height: 52px;
border-radius: 8px;
background: linear-gradient(135deg, var(‚Äìgold-dark), var(‚Äìwarm));
border: 1px solid rgba(201,168,76,0.4);
display: flex;
align-items: center;
justify-content: center;
flex-shrink: 0;
overflow: hidden;
position: relative;
}

.album-art::after {
content: ‚Äò‚ô™‚Äô;
font-size: 1.4rem;
color: var(‚Äìgold);
opacity: 0.6;
}

.album-art.spinning-art::after {
animation: spin 4s linear infinite;
display: inline-block;
}

.track-info {
flex: 1;
min-width: 0;
}

.track-title {
font-family: ‚ÄòPlayfair Display‚Äô, serif;
font-size: 0.95rem;
color: var(‚Äìcream);
font-style: italic;
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
}

.track-artist {
font-size: 0.75rem;
color: rgba(201,168,76,0.7);
font-family: ‚ÄòCormorant Garamond‚Äô, serif;
margin-top: 2px;
}

/* Progress bar */
.progress-wrap {
margin-bottom: 14px;
}

.progress-bar {
width: 100%;
height: 3px;
background: rgba(201,168,76,0.15);
border-radius: 2px;
cursor: pointer;
position: relative;
overflow: hidden;
}

.progress-fill {
height: 100%;
background: linear-gradient(to right, var(‚Äìgold-dark), var(‚Äìgold-light));
border-radius: 2px;
width: 0%;
transition: width 0.5s linear;
pointer-events: none;
}

.progress-times {
display: flex;
justify-content: space-between;
font-size: 0.68rem;
color: rgba(201,168,76,0.5);
margin-top: 5px;
font-family: ‚ÄòCormorant Garamond‚Äô, serif;
}

/* Controls */
.player-controls {
display: flex;
align-items: center;
justify-content: center;
gap: 16px;
margin-bottom: 14px;
}

.ctrl-btn {
background: none;
border: none;
cursor: pointer;
color: rgba(201,168,76,0.7);
padding: 6px;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
transition: color 0.2s, background 0.2s;
}

.ctrl-btn:hover {
color: var(‚Äìgold-light);
background: rgba(201,168,76,0.1);
}

.ctrl-btn.main-play {
width: 44px;
height: 44px;
background: linear-gradient(135deg, var(‚Äìgold-dark), var(‚Äìgold));
color: var(‚Äìdeep);
border-radius: 50%;
}

.ctrl-btn.main-play:hover {
background: linear-gradient(135deg, var(‚Äìgold), var(‚Äìgold-light));
color: var(‚Äìdeep);
}

.ctrl-btn svg {
width: 16px;
height: 16px;
fill: currentColor;
}

.ctrl-btn.main-play svg {
width: 18px;
height: 18px;
}

/* Volume */
.volume-row {
display: flex;
align-items: center;
gap: 8px;
}

.volume-icon {
color: rgba(201,168,76,0.5);
flex-shrink: 0;
}

.volume-icon svg { width: 14px; height: 14px; fill: currentColor; }

input[type=range].vol-slider {
flex: 1;
height: 3px;
-webkit-appearance: none;
appearance: none;
background: rgba(201,168,76,0.2);
border-radius: 2px;
outline: none;
cursor: pointer;
}

input[type=range].vol-slider::-webkit-slider-thumb {
-webkit-appearance: none;
width: 12px;
height: 12px;
border-radius: 50%;
background: var(‚Äìgold);
cursor: pointer;
}

/* Playlist */
.playlist {
margin-top: 14px;
border-top: 1px solid rgba(201,168,76,0.1);
padding-top: 12px;
max-height: 130px;
overflow-y: auto;
scrollbar-width: thin;
scrollbar-color: rgba(201,168,76,0.3) transparent;
}

.playlist-item {
display: flex;
align-items: center;
gap: 10px;
padding: 6px 8px;
border-radius: 8px;
cursor: pointer;
transition: background 0.2s;
font-family: ‚ÄòCormorant Garamond‚Äô, serif;
}

.playlist-item:hover { background: rgba(201,168,76,0.08); }
.playlist-item.active { background: rgba(201,168,76,0.12); }

.playlist-num {
font-size: 0.7rem;
color: rgba(201,168,76,0.4);
width: 16px;
text-align: center;
flex-shrink: 0;
}

.playlist-item.active .playlist-num {
color: var(‚Äìgold);
}

.playlist-name {
font-size: 0.82rem;
color: rgba(253,246,227,0.7);
flex: 1;
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
}

.playlist-item.active .playlist-name { color: var(‚Äìcream); }

.playlist-dur {
font-size: 0.7rem;
color: rgba(201,168,76,0.4);
flex-shrink: 0;
}

/* Upload music button */
.upload-music-btn {
display: flex;
align-items: center;
gap: 6px;
width: 100%;
background: none;
border: 1px dashed rgba(201,168,76,0.25);
color: rgba(201,168,76,0.5);
font-family: ‚ÄòCormorant Garamond‚Äô, serif;
font-size: 0.8rem;
font-style: italic;
padding: 7px 10px;
border-radius: 8px;
cursor: pointer;
margin-top: 10px;
transition: all 0.2s;
justify-content: center;
}

.upload-music-btn:hover {
border-color: rgba(201,168,76,0.5);
color: var(‚Äìgold);
background: rgba(201,168,76,0.05);
}

#music-file-input { display: none; }

@media (max-width: 480px) {
.music-player { bottom: 16px; right: 16px; }
.music-card { width: 260px; }
}
</style>

</head>
<body>

<!-- ‚îÄ‚îÄ WELCOME OVERLAY (one tap ‚Üí music starts) ‚îÄ‚îÄ -->

<div id="welcome-overlay" onclick="enterSite()" style="
  position:fixed; inset:0; z-index:10000;
  background: radial-gradient(ellipse at 50% 40%, #3d2505 0%, #0e0805 75%);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  text-align:center; padding:40px 20px; cursor:pointer;
  transition: opacity 0.8s ease;
">
  <!-- Animated sparkles inside overlay -->
  <div id="overlay-sparkles" style="position:absolute;inset:0;overflow:hidden;pointer-events:none;"></div>

  <p style="font-family:'Dancing Script',cursive; font-size:clamp(1rem,3vw,1.4rem); color:rgba(201,168,76,0.7); letter-spacing:0.1em; margin-bottom:16px; position:relative;">
    ‚ú¶ a gift just for you ‚ú¶
  </p>

  <h1 style="
    font-family:'Playfair Display',serif; font-weight:700;
    font-size:clamp(3rem,12vw,9rem); line-height:0.95;
    background: linear-gradient(135deg, #e8c97a 0%, #c9a84c 40%, #8a6820 80%);
    -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
    position:relative; margin-bottom:8px;
  ">Happy<br>Birthday</h1>

  <h2 style="
    font-family:'Playfair Display',serif; font-style:italic; font-weight:400;
    font-size:clamp(1.6rem,6vw,4rem); color:#fdf6e3;
    position:relative; margin-bottom:48px;
  " id="overlay-name">Ugieubua</h2>

  <!-- Pulsing enter button -->

<button id="enter-btn" onclick="enterSite()" style="
font-family:'Cormorant Garamond',serif; font-size:1.1rem; font-style:italic;
color:#1a1008; background:linear-gradient(135deg,#c9a84c,#e8c97a);
border:none; padding:16px 48px; cursor:pointer; letter-spacing:0.08em;
border-radius:2px; position:relative;
animation: pulse-btn 2s ease-in-out infinite;
box-shadow: 0 4px 20px rgba(201,168,76,0.4);
">
‚ú¶ ¬† Tap to Enter ¬† ‚ú¶
</button>

  <p style="
    font-family:'Cormorant Garamond',serif; font-size:0.82rem; font-style:italic;
    color:rgba(201,168,76,0.4); margin-top:20px; letter-spacing:0.08em; position:relative;
  ">
    music &amp; memories await
  </p>

  <style>
    @keyframes pulse-btn {
      0%, 100% { transform: scale(1); box-shadow: 0 4px 20px rgba(201,168,76,0.4); }
      50% { transform: scale(1.04); box-shadow: 0 6px 32px rgba(201,168,76,0.65); }
    }
  </style>

  <script>
    // Mirror the birthday name into the overlay
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('overlay-name').textContent = 'Ugieubua';
    });
    // Sparkles inside overlay
    const oc = document.getElementById('overlay-sparkles');
    for (let i = 0; i < 70; i++) {
      const s = document.createElement('div');
      s.style.cssText = `
        position:absolute;
        left:${Math.random()*100}%; top:${Math.random()*100}%;
        width:${1+Math.random()*3}px; height:${1+Math.random()*3}px;
        border-radius:50%; background:#e8c97a;
        animation: twinkle ${2+Math.random()*4}s ${Math.random()*5}s infinite ease-in-out;
      `;
      oc.appendChild(s);
    }
  </script>

</div>

<!-- ‚îÄ‚îÄ SPARKLE PARTICLES ‚îÄ‚îÄ -->

<section class="hero" id="home">
  <div class="sparkles" id="sparkles"></div>

  <p class="hero-eyebrow">‚ú¶ This one is for you ‚ú¶</p>
  <h1 class="hero-title">Happy Birthday</h1>
  <h2 class="hero-name" id="birthday-person">Maryann Baby</h2>

  <div class="divider">
    <div class="divider-line"></div>
    <div class="divider-diamond"></div>
    <div class="divider-diamond" style="width:4px;height:4px;margin: 0 4px;opacity:0.5"></div>
    <div class="divider-diamond"></div>
    <div class="divider-line"></div>
  </div>

  <p class="hero-message">
    "In the garden of memories, every moment we've shared is a flower that never fades."
  </p>

  <!-- ‚îÄ‚îÄ FEATURED PORTRAIT FRAME ‚îÄ‚îÄ -->

  <div class="hero-portrait-wrap" id="hero-portrait-wrap">
    <div class="hero-portrait-frame" id="hero-portrait-frame">

```
  <!-- The photo -->
  <div class="hero-portrait-inner" id="hero-portrait-drop">
    <div class="hero-portrait-placeholder" id="hero-portrait-placeholder">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
      <span>Her most recent photo</span>
      <small>click or drag to add</small>
    </div>
    <img id="hero-portrait-img" src="" alt="Ugieubua" style="display:none;width:100%;height:100%;object-fit:cover;filter:sepia(8%) contrast(1.05);">
  </div>

  <!-- PNG frame overlay ‚Äî shows your custom frame on top of the photo.
       Drop hero-frame.png in the same folder and it appears automatically.
       If the file isn't found, the CSS fallback frame below shows instead. -->
  <img class="hero-portrait-frame-img" id="frame-png"
       src="hero-frame.png"
       alt=""
       onerror="this.style.display='none'; document.getElementById('frame-css-fallback').style.display='block';">

  <!-- CSS fallback frame ‚Äî shown automatically if hero-frame.png is missing -->
  <div class="hero-portrait-frame-css" id="frame-css-fallback" style="display:none;"></div>

  <input type="file" id="hero-portrait-input" accept="image/*" style="display:none">
</div>
<!-- name removed -->
```

  </div>

  <div class="scroll-hint" style="position:relative; bottom:auto; left:auto; transform:none; margin-top: 32px;">
    <span>explore memories</span>
    <div class="scroll-arrow"></div>
  </div>
</section>

<!-- ‚îÄ‚îÄ POLAROID STRIP ‚îÄ‚îÄ -->

<section class="featured-section">
  <div class="section-header">
    <span class="section-tag">‚ú¶ Favourite moments ‚ú¶</span>
    <h2 class="section-title">A Glimpse Through Time</h2>
    <div class="section-divider"></div>
  </div>

  <div class="polaroid-strip" id="polaroid-strip">
    <!-- Polaroids injected by JS -->
  </div>
</section>

<!-- ‚îÄ‚îÄ GALLERY ‚îÄ‚îÄ -->

<section class="gallery-section" id="gallery">
  <div class="section-header">
    <span class="section-tag">‚ú¶ A collection of us ‚ú¶</span>
    <h2 class="section-title">The Gallery of Memories</h2>
    <div class="section-divider"></div>
  </div>

  <div class="gallery-grid" id="gallery-grid">
    <!-- Gallery cards injected by JS -->
  </div>

  <input type="file" id="file-input" multiple accept="image/*">
  <button class="add-photo-btn" onclick="document.getElementById('file-input').click()">
    + Add Your Photos
  </button>
</section>

<!-- ‚îÄ‚îÄ MESSAGE ‚îÄ‚îÄ -->

<section class="message-section">
  <p class="big-message">
    "Every laugh we shared, every adventure we stumbled into, every quiet moment side by side ‚Äî 
    <span>those are the gifts I treasure most.</span> 
    Today, the world gets to celebrate what I already know: you are extraordinary, and this life is more beautiful because you are in it."
  </p>
  <span class="signature" id="signature-from">With all my love ‚ô°</span>
</section>

<!-- ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ -->

<footer>
  Made with love, for someone who deserves the whole world. ‚ú¶ Happy Birthday
</footer>

<!-- ‚îÄ‚îÄ MUSIC PLAYER ‚îÄ‚îÄ -->

<div class="music-player" id="music-player">
  <div class="music-card" id="music-card">
    <div class="player-top">
      <div class="album-art" id="album-art"></div>
      <div class="track-info">
        <div class="track-title" id="track-title">No track loaded</div>
        <div class="track-artist" id="track-artist">Add songs below ‚ô™</div>
      </div>
    </div>
    <div class="progress-wrap">
      <div class="progress-bar" id="progress-bar" onclick="seekTo(event)">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
      <div class="progress-times">
        <span id="time-current">0:00</span>
        <span id="time-total">0:00</span>
      </div>
    </div>
    <div class="player-controls">
      <button class="ctrl-btn" onclick="prevTrack()" title="Previous">
        <svg viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6 8.5 6V6z"/></svg>
      </button>
      <button class="ctrl-btn main-play" id="play-btn" onclick="togglePlay()" title="Play/Pause">
        <svg id="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
      </button>
      <button class="ctrl-btn" onclick="nextTrack()" title="Next">
        <svg viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zm8.5-6v6h2V6h-2v6z"/></svg>
      </button>
    </div>
    <div class="volume-row">
      <span class="volume-icon">
        <svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/></svg>
      </span>
      <input type="range" class="vol-slider" id="vol-slider" min="0" max="1" step="0.02" value="0.8" oninput="setVolume(this.value)">
    </div>
    <div class="playlist" id="playlist"></div>
    <input type="file" id="music-file-input" multiple accept="audio/*">
    <button class="upload-music-btn" onclick="document.getElementById('music-file-input').click()">
      ‚ô™ Add your songs
    </button>
  </div>
  <button class="music-fab" id="music-fab" onclick="togglePlayer()" title="Music">
    <svg id="fab-icon" viewBox="0 0 24 24"><path d="M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z"/></svg>
  </button>
</div>

<!-- ‚îÄ‚îÄ LIGHTBOX ‚îÄ‚îÄ -->

<div class="lightbox" id="lightbox" onclick="closeLightbox(event)">
  <div class="lightbox-content" id="lightbox-content">
    <button class="lightbox-close" onclick="closeLightbox()">‚úï</button>
    <img id="lightbox-img" src="" alt="">
  </div>
</div>

<script>
// ‚îÄ‚îÄ CONFIG: Edit these ‚îÄ‚îÄ
const CONFIG = {
  birthdayPersonName: "Maryann Baby",   // ‚Üê Change to your friend's name
  fromName: "With all my love ‚ô°",      // ‚Üê Change to your name/message

  // Add as many photos as you want. Format:
  // { src: "your-image-url.jpg", caption: "Your caption here", style: "square" } 
  // style options: "square" (default), "wide", "tall"
  galleryPhotos: [
    { src: "gallery-01.jpg", caption: "Our first adventure together" },
    { src: "gallery-02.jpg", caption: "Remember this day? üå∏", style: "wide" },
    { src: "gallery-03.jpg", caption: "You, always laughing", style: "tall" },
    { src: "gallery-04.jpg", caption: "The trip we almost didn't take" },
    { src: "gallery-05.jpg", caption: "Golden hour magic" },
    { src: "gallery-06.jpg", caption: "Pure joy", style: "wide" },
    { src: "gallery-07.jpg", caption: "Years of friendship" },
    { src: "gallery-08.jpg", caption: "This is us" },
    { src: "gallery-09.jpg", caption: "The best of times", style: "tall" },
    { src: "gallery-10.jpg", caption: "One for the books" },
    { src: "gallery-11.jpg", caption: "Can't believe how far we've come" },
    { src: "gallery-12.jpg", caption: "Forever favourites" },
  ],

  polaroidPhotos: [
    { src: "polaroid-01.jpg", label: "BFFs forever" },
    { src: "polaroid-02.jpg", label: "Summer 2023" },
    { src: "polaroid-03.jpg", label: "That one night..." },
    { src: "polaroid-04.jpg", label: "My favourite human" },
    { src: "polaroid-05.jpg", label: "Road trip!" },
    { src: "polaroid-06.jpg", label: "Unplanned moments" },
    { src: "polaroid-07.jpg", label: "Cheers to you!" },
  ]
};

// Apply config
document.getElementById('birthday-person').textContent = CONFIG.birthdayPersonName;
document.getElementById('signature-from').textContent = CONFIG.fromName;
document.title = `Happy Birthday, ${CONFIG.birthdayPersonName}! ‚ú®`;

// ‚îÄ‚îÄ SPARKLES ‚îÄ‚îÄ
const sparklesContainer = document.getElementById('sparkles');
for (let i = 0; i < 60; i++) {
  const s = document.createElement('div');
  s.className = 'sparkle';
  s.style.cssText = `
    left: ${Math.random()*100}%;
    top: ${Math.random()*100}%;
    --dur: ${2 + Math.random()*4}s;
    --delay: ${Math.random()*5}s;
    width: ${1 + Math.random()*4}px;
    height: ${1 + Math.random()*4}px;
    opacity: ${0.3 + Math.random()*0.7};
  `;
  sparklesContainer.appendChild(s);
}

// ‚îÄ‚îÄ BUILD GALLERY ‚îÄ‚îÄ
const grid = document.getElementById('gallery-grid');
CONFIG.galleryPhotos.forEach((photo, i) => {
  const card = document.createElement('div');
  card.className = `frame-card ${photo.style || ''}`;
  card.style.animationDelay = `${i * 0.07}s`;

  const hasImage = photo.src && photo.src.trim() !== '';

  card.innerHTML = `
    <div class="frame-inner">
      <span class="corner-tr"></span>
      <span class="corner-bl"></span>
      <div class="photo-wrapper" ${hasImage ? `onclick="openLightbox('${photo.src}')"` : ''}>
        ${hasImage
          ? `<img src="${photo.src}" alt="${photo.caption}" loading="lazy">`
          : `<div class="photo-placeholder">
               <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
               <span>memory awaits</span>
             </div>`
        }
      </div>
      <div class="frame-caption">${photo.caption}</div>
    </div>
  `;
  grid.appendChild(card);
});

// ‚îÄ‚îÄ BUILD POLAROIDS ‚îÄ‚îÄ
const strip = document.getElementById('polaroid-strip');
const rotations = [-3, 2, -1.5, 3.5, -2.5, 1, -4, 2.5, -1, 3];
CONFIG.polaroidPhotos.forEach((photo, i) => {
  const p = document.createElement('div');
  p.className = 'polaroid';
  p.style.setProperty('--rot', `${rotations[i % rotations.length]}deg`);

  const hasImage = photo.src && photo.src.trim() !== '';

  p.innerHTML = `
    <div class="polaroid-photo" ${hasImage ? `onclick="openLightbox('${photo.src}')"` : ''} style="${hasImage ? 'cursor:pointer' : ''}">
      ${hasImage
        ? `<img src="${photo.src}" alt="${photo.label}" loading="lazy">`
        : `<div class="polaroid-photo-placeholder">
             <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="M21 15l-5-5L5 21"/></svg>
             <span>add photo</span>
           </div>`
      }
    </div>
    <div class="polaroid-label">${photo.label}</div>
  `;
  strip.appendChild(p);
});

// ‚îÄ‚îÄ LIGHTBOX ‚îÄ‚îÄ
function openLightbox(src) {
  if (!src) return;
  document.getElementById('lightbox-img').src = src;
  document.getElementById('lightbox').classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeLightbox(e) {
  if (!e || e.target === document.getElementById('lightbox') || e.target.classList.contains('lightbox-close')) {
    document.getElementById('lightbox').classList.remove('open');
    document.body.style.overflow = '';
  }
}

document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeLightbox({ target: document.getElementById('lightbox') });
});

// ‚îÄ‚îÄ UPLOAD YOUR OWN PHOTOS ‚îÄ‚îÄ
document.getElementById('file-input').addEventListener('change', function() {
  Array.from(this.files).forEach(file => {
    const url = URL.createObjectURL(file);
    const card = document.createElement('div');
    card.className = 'frame-card';

    card.innerHTML = `
      <div class="frame-inner">
        <span class="corner-tr"></span>
        <span class="corner-bl"></span>
        <div class="photo-wrapper" onclick="openLightbox('${url}')" style="cursor:pointer">
          <img src="${url}" alt="Memory" loading="lazy">
        </div>
        <div class="frame-caption">A beautiful memory ‚ú®</div>
      </div>
    `;
    grid.appendChild(card);
  });
});

// ‚îÄ‚îÄ MUSIC PLAYER ‚îÄ‚îÄ
const audio = new Audio();
audio.loop = false;
audio.volume = 0.8;

let tracks = [];
let currentTrack = -1;
let playerOpen = false;

// ‚îÄ‚îÄ ADD YOUR SONGS HERE ‚îÄ‚îÄ
// Replace the empty src values with your actual music file URLs or relative paths.
// Example: { name: 'Golden Hour', artist: 'JVKE', url: 'golden-hour.mp3' }
// You can also upload songs live using the "+ Add songs" button in the player.
const SONGS = [
  { name: 'Song 1', artist: 'Artist', url: 'song-01.mp3' },
  { name: 'Song 2', artist: 'Artist', url: 'song-02.mp3' },
  { name: 'Song 3', artist: 'Artist', url: 'song-03.mp3' },
  { name: 'Song 4', artist: 'Artist', url: 'song-04.mp3' },
  { name: 'Song 5', artist: 'Artist', url: 'song-05.mp3' },
  // Add more by copying a line above. Update the name, artist and filename.
];

SONGS.forEach(s => tracks.push(s));

// ‚îÄ‚îÄ WELCOME OVERLAY ‚Äî one tap starts music + enters site ‚îÄ‚îÄ
function enterSite() {
  const overlay = document.getElementById('welcome-overlay');
  overlay.style.opacity = '0';
  overlay.style.pointerEvents = 'none';
  setTimeout(() => overlay.remove(), 800);

  // Start music on this user gesture
  if (tracks.length > 0) {
    loadTrack(0, true);
  }
}

function openPlayerCard() {
  playerOpen = true;
  document.getElementById('music-card').classList.add('open');
  document.getElementById('fab-icon').innerHTML = '<path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>';
}

function togglePlayer() {
  playerOpen = !playerOpen;
  document.getElementById('music-card').classList.toggle('open', playerOpen);
  const icon = document.getElementById('fab-icon');
  if (playerOpen) {
    icon.innerHTML = '<path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>';
  } else {
    icon.innerHTML = '<path d="M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z"/>';
  }
}

function renderPlaylist() {
  const pl = document.getElementById('playlist');
  pl.innerHTML = '';
  if (tracks.length === 0) {
    pl.innerHTML = '<p style="text-align:center;color:rgba(201,168,76,0.3);font-size:0.78rem;font-style:italic;padding:8px 0;">No songs yet ‚Äî add yours below</p>';
    return;
  }
  tracks.forEach((t, i) => {
    const item = document.createElement('div');
    item.className = 'playlist-item' + (i === currentTrack ? ' active' : '');
    item.innerHTML = `
      <span class="playlist-num">${i === currentTrack ? '‚ô™' : i+1}</span>
      <span class="playlist-name">${t.name}</span>
      <span class="playlist-dur">${t.duration || ''}</span>
    `;
    item.onclick = () => loadTrack(i, true);
    pl.appendChild(item);
  });
}

function loadTrack(index, autoplay = false) {
  if (index < 0 || index >= tracks.length) return;
  currentTrack = index;
  const t = tracks[index];
  audio.src = t.url;
  document.getElementById('track-title').textContent = t.name;
  document.getElementById('track-artist').textContent = t.artist || 'Your Playlist';
  document.getElementById('progress-fill').style.width = '0%';
  document.getElementById('time-current').textContent = '0:00';
  document.getElementById('time-total').textContent = '0:00';
  renderPlaylist();
  if (autoplay) {
    audio.play().then(updatePlayUI).catch(() => {});
  }
}

function togglePlay() {
  if (tracks.length === 0) {
    document.getElementById('music-file-input').click();
    return;
  }
  if (currentTrack === -1) { loadTrack(0, true); return; }
  if (audio.paused) {
    audio.play().then(updatePlayUI).catch(() => {});
  } else {
    audio.pause();
    updatePlayUI();
  }
}

function updatePlayUI() {
  const playing = !audio.paused;
  document.getElementById('music-fab').classList.toggle('playing', playing);
  document.getElementById('album-art').classList.toggle('spinning-art', playing);
  document.getElementById('play-icon').innerHTML = playing
    ? '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>'
    : '<path d="M8 5v14l11-7z"/>';
  // Also update overlay button hint if still showing
  const overlayBtn = document.getElementById('enter-btn');
  if (overlayBtn && playing) overlayBtn.textContent = '‚ú¶ Music is playing ‚ú¶';
}

function prevTrack() {
  if (tracks.length === 0) return;
  loadTrack((currentTrack - 1 + tracks.length) % tracks.length, !audio.paused);
}

function nextTrack() {
  if (tracks.length === 0) return;
  loadTrack((currentTrack + 1) % tracks.length, !audio.paused);
}

function setVolume(val) { audio.volume = parseFloat(val); }

function seekTo(e) {
  if (!audio.duration) return;
  const bar = document.getElementById('progress-bar');
  const rect = bar.getBoundingClientRect();
  const pct = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
  audio.currentTime = pct * audio.duration;
}

function formatTime(s) {
  if (isNaN(s)) return '0:00';
  const m = Math.floor(s / 60);
  const sec = Math.floor(s % 60);
  return `${m}:${sec.toString().padStart(2, '0')}`;
}

audio.addEventListener('timeupdate', () => {
  if (!audio.duration) return;
  document.getElementById('progress-fill').style.width = (audio.currentTime / audio.duration * 100) + '%';
  document.getElementById('time-current').textContent = formatTime(audio.currentTime);
});

audio.addEventListener('loadedmetadata', () => {
  document.getElementById('time-total').textContent = formatTime(audio.duration);
  if (currentTrack >= 0) { tracks[currentTrack].duration = formatTime(audio.duration); renderPlaylist(); }
});

audio.addEventListener('ended', () => { nextTrack(); updatePlayUI(); });
audio.addEventListener('play', updatePlayUI);
audio.addEventListener('pause', updatePlayUI);

// File upload for music
document.getElementById('music-file-input').addEventListener('change', function() {
  Array.from(this.files).forEach(file => {
    const url = URL.createObjectURL(file);
    const name = file.name.replace(/\.[^.]+$/, '');
    tracks.push({ name, artist: 'Your Playlist', url, duration: '' });
  });
  if (currentTrack === -1 && tracks.length > 0) loadTrack(0, true);
  renderPlaylist();
  if (!playerOpen) togglePlayer();
});

// Init
renderPlaylist();

// ‚îÄ‚îÄ HERO PORTRAIT FRAME ‚îÄ‚îÄ
const heroPortraitInput = document.getElementById('hero-portrait-input');
const heroPortraitInner = document.getElementById('hero-portrait-drop');
const heroPortraitImg   = document.getElementById('hero-portrait-img');
const heroPortraitPh    = document.getElementById('hero-portrait-placeholder');

heroPortraitInner.addEventListener('click', () => heroPortraitInput.click());
heroPortraitInner.addEventListener('dragover', e => { e.preventDefault(); heroPortraitInner.style.outline = '2px solid #c9a84c'; });
heroPortraitInner.addEventListener('dragleave', () => heroPortraitInner.style.outline = '');
heroPortraitInner.addEventListener('drop', e => {
  e.preventDefault();
  heroPortraitInner.style.outline = '';
  const file = e.dataTransfer.files[0];
  if (file && file.type.startsWith('image/')) setHeroPortrait(URL.createObjectURL(file));
});
heroPortraitInput.addEventListener('change', function() {
  if (this.files[0]) setHeroPortrait(URL.createObjectURL(this.files[0]));
});
function setHeroPortrait(url) {
  heroPortraitImg.src = url;
  heroPortraitImg.style.display = 'block';
  heroPortraitPh.style.display = 'none';
}


// ‚îÄ‚îÄ INTERSECTION OBSERVER for reveal ‚îÄ‚îÄ
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.style.opacity = '1';
      entry.target.style.transform = entry.target.style.transform || 'translateY(0)';
    }
  });
}, { threshold: 0.1 });

document.querySelectorAll('.frame-card').forEach(card => observer.observe(card));
</script>

</body>
</html>